# タスクリスト

## 1. 開発環境構築 (済)
- [x] Python環境設定 (`.python-version`, `uv.lock`)
- [x] Gitリポジトリ初期化 (`.git`)
- [x] 基本的なファイル作成 (`main.py`, `README.md`, `Design.md`, `Gemini.md`)

## 2. データ準備 (済)
- [x] 選手データの収集と配置 (`data/raw`, `data/processed`)
- [x] データ取得モジュールの実装 (`app/utils/get_player_data.py`)

## 3. Streamlitアプリケーション基盤構築
- [x] `main.py`にStreamlitの基本的なコードを追加
- [x] アプリケーションのタイトルと概要説明を表示 (`st.title`, `st.write`)

## 4. 年度・チーム選択機能の実装
- [x] `st.sidebar`を作成
- [x] 年度を選択する`st.selectbox`をサイドバーに配置
- [x] チームを選択する`st.selectbox`をサイドバーに配置
- [x] 選択された年度とチームに応じて、対応するCSVファイルを読み込む処理を実装
- [x] 読み込んだデータをPandas DataFrameとしてキャッシュする (`st.cache_data`)

## 5. シミュレーションコアロジックの実装
- [x] 1打席の結果をシミュレートする関数を作成 (選手の成績データと乱数を使用)
- [x] 1イニングのシミュレーションを行う関数を作成
- [x] 1試合（9イニング）のシミュレーションを行う関数を作成
- [x] シミュレーション結果（得点、安打、打者別成績など）を返すデータ構造を定義

## 6. 任意の打順シミュレーション機能の実装
- [x] 読み込んだ選手データ一覧をメイン画面に表示 (`st.dataframe`)
- [x] 1番から9番までの打順を`st.selectbox`で選択できるUIを作成
- [x] 「シミュレーション実行」ボタン (`st.button`) を配置
- [x] ボタンが押されたら、シミュレーションコアロジックを実行
- [x] 試合結果（総得点など）を`st.metric`で表示
- [x] イニングごとの詳細ログを`st.expander`内に表示
- [x] 打者ごとの成績を`st.dataframe`で表示

## 7. 最良打順推定機能の実装
- [x] 試行回数を指定する`st.number_input`をサイドバーに配置
- [x] 「最良打順を推定」ボタン (`st.button`) を配置
- [x] 指定回数分、ランダムな打順（選手重複なし）を生成
- [x] 各打順で143試合のシミュレーションを実行
- [x] 実行中に`st.progress`と`st.spinner`で進捗を表示
- [x] 最も平均得点が高かった打順と、その成績を表示
- [x] 最も平均得点が低かった打順と、その成績を表示
- [x] (オプション) 得点分布を`st.bar_chart`で可視化

## 8. 全体調整と仕上げ
- [x] UI/UXの改善（レイアウト、文言など）
- [x] エラーハンドリングの強化（無効な入力など）
- [x] コードのリファクタリングとコメント追加
- [x] `README.md`の更新（使い方、機能一覧、ファイル構造図など）
